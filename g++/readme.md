# Task03 - The basics of programming

The compressed folder `task03.tar` contains the following elements:

- `Makefile`
- `config.txt` and `config_hdf5.txt`
- `task03_1.cpp`
- `task03_2.cpp`
- `task03_1_hdf5_gsl.cpp`
- `task03_2_hdf5_gsl.cpp`

## Libraries and makefile usage

The `Makefile` file is used for compiling all the `.cpp` codes. It supposes you have installed in your machine the libraries `libhdf5-def` and `libgsl-dev`. 

If you do not have them and are using a Linux machine, it is quite straightforward. All you need to do is entering these commands in the terminal:
```bash
sudo apt-get install libhdf5-dev libgsl-dev
```

In the unfortunate case you are not sudoer, you can download the source code of the libraries, extract them and enter the following commands for each library:
```bash
cd /path/to/library/
./configure --prefix=/path/to/installation/folder/
make
make install
```
then modify your `~/.bashrc` file to incorporate the libraries by adding these lines for the `hdf5` library (adapt to the library you want to insert):
```bash
export HDF5_DIR=/path/to/hdf5/library
export PATH=$HDF5_DIR/bin:$PATH
export LD_LIBRARY_PATH=$HDF5_DIR/lib:$LD_LIBRARY_PATH
export CPATH=$HDF5_DIR/include:$CPATH
export LIBRARY_PATH=$HDF5_DIR/lib:$LIBRARY_PATH
```
similarly to `gsl` library (adjust the path and write `GSL` instead of `HDF5`).

Moreover, to properly compile the codes you need to set up the environmental variables. This can be done by adding these lines at the end of `~/.bashrc` file:
```bash
export CXXFLAGS="-I/path/to/hdf5/include -I/path/to/gsl/include"
export LDFLAGS="-L/path/to/hdf5/lib -L/path/to/gsl/lib -lhdf5 -lgsl -lgslcblas"
```

Once this has been set up, you can compile the file by simply moving in their folder and giving:
```
make
```

In case you want to recompile the files, the `Makefile` also account for a `clean` option that deletes the compiled code from the directory (but not their output!).

## Code usage

- `task03_1.cpp`: this code perform the request 1) of task03. In order to use it, you have to compile the code using the Makefile and then enter the following command:
```bash
./task03_1 <N_values> filename_prefix
```
for example:
```bash
./task03_1 10 vector_
```
this will generate two files `vector_N10_x.dat` and `vector_N10_y.dat` containing the `x` and `y` vectors elements, as requested;

- `task03_2.cpp`: this code perform the request 2) of task03. It's usage is similar to the previous one, enter in terminal the following comand:
```bash
./task03_2 configuration_file.txt
```
in the compressed folder `task03.tar` is present a ready-to-use `config.txt` so the usage simply reduce to:
```bash
./task03_2 config.txt
```
this will generate as output a `vector_N10_d.dat` with the result of `d = a * x + y`, as requested;

- `task03_1_hdf5_gsl.cpp`: this code performs the request 1) using `.h5` files. Its usage is similar to `task03_1.cpp`:
```bash
./task03_1_hdf5_gsl <N_values> filename_prefix
```
so that the command:
```
./task03_1_hdf5_gsl 10 vector_
```
will generate two separate files `vector_N10_x.h5` and `vector_N10_y.h5` containing the `x` and `y` vectors elements;

- `task03_2_hdf5_gsl.cpp`: this code performs the requested computation of point 2) using the `.h5` files generated by `task03_2_hdf5_gsl.cpp` code and the `gsl_vector_axpby` function. It exploits a `config_hdf5.txt` file. Its usage is the following:
```bash
./task03_2_hdf5_gsl configuration_file.txt
```
so in our case it reduces to:
```bash
./task03_2_hdf5_gsl config_hdf5.txt
```
which generates a `vector_N10_d.h5` file as output. 